# Проект по тестированию морфологических тагеров
## Выбранный морфологический теггер: TreeTagger
### :zap:Команда:zap:
* Бибаева Мария
* Картозия Инга
* Анастасия Мельник

## Checklist:

- [x] [Анализируемый файл](./test.txt)
- [x] [Перевод тегов к формату ЗС](./test_annotated_gold_500_words.txt)
- [x] Отчет (данный файл)

# Часть 1
## 1.1
TreeTagger учитывает 10 частей речи (существительное, глагол, прилагательное, местоимение, наречие, предлог, союз, числительные, частица, междометие). В рассматриваемом тэггере есть ещё две категории: “аббревиатура” и “остальное”. Причастие (вторая помета p (=participle) при разборе) и деепричастие (вторая помета g (=gerund) при разборе) не выделяются как отдельная часть речи, считаясь особыми формами глагола. Возможно, разумно было бы выделить в отдельную часть речи причастия, так как при их анализе возникает много ошибок (с деепричастиями ситуация лучше). Ниже приведены основные проблемы, часто возникающие при разборе причастий:
1. неизвестная лемма: если причастие разбирается как прилагательное и вследствие этого лемма анализатором не определяется.

` заходивший	Afpmsnf	unknown`

` образуемый	Afpmsnf	unknown`

` вращавшийся	Afpmsnf	unknown`

` строившийся	Vmps-smm-pn	строиться`

Хотя даже при правильном распознании части речи, анализатор не всегда способен определить лемму:

` заходящий	Vmpp-smafen	unknown`

` влияющий	Vmpp-smafen	влиять`
 
Если деепричастия не являются редкими или устаревшими, то проблем с определением леммы не возникаем:

` блестя	Vmgp---a-e	блестеть`

` раскачиваясь	Vmgp---m-e	раскачиваться`

` раскачивая	Vmgp---a-e	раскачивать`

` услыша	Vmgp---a-e	unknown (хотя в чём проблема здесь неясно)`

` решась	Vmis-sfm-p	unknown`

` отрешась	Vmis-sfm-p	unknown`

Проблем с деепричастиями меньше, поэтому выделять их в отдельную часть речи смысла нет.
В выбранном нами для анализа теггере, выделяемые части речи имеют большое количество грамматических признаков, но при парсинге текста, большинство из них не используется. Это можно объяснить тем, что парсер работает не в полную мощность и пропускает многие признаки, что может сказываться на выдаче и качестве разбора.

## 1.2
Ниже распарсен список частотных местоимений. Местоимения иногда попадают в классы союзов (в результате омонимии, например,  что), существительных (местоимения кто и что), “остальное” (к этому классу TreeTagger относит неопределенные местоимения где-то, некогда, какой-то) и частицы
Нашла я тут какой-то рандомный частотный список местоимений. Вот короче какая штуковина получилась. Попадают местоимения в классы союзов (если они омонимичны им, еееее омонимия), существительных (почему? не знаю),  “остальное” (туда улетают в основном неопределенные местоимения) и частицы (вон, вот). Более того для местоимений с аффиксами (-то, -нибудь, кое-) лемма часто неизвестна. В НКРЯ лемма также содержит в своём составе аффкис (кое-кто, где-нибудь, что-то)ю

`я	P-1-snn	я`

`что	C	что`

`он	P-3msnn	он`

`как	C	как`

`этот	P--msna	этот`

`они	P-3-pnn	они`

`мы	P-1-pnn	мы`

`весь	P--msna	весь`

`который	P--msna	который`

`она	P-3fsnn	она`

`так	P-----r	так`

`свой	P--msaa	свой`

`вы	P-2-pnn	вы`

`ты	P-2-snn	ты`

`такой	P--msna	такой`

`его	P-3msan	он`

`себя	P----an	себя`

`ее	P-3fsan	она`

`когда	C	когда`

`вот	Q	вот`

`другой	P--msna	другой`

`наш	P--msna	наш`

`самый	P--msna	самый`

`мой	P--msna	мой`

`кто	P--msnn	кто`

`сам	P--msna	сам`

`там	P-----r	там`

`какой	P--msna	какой`

`их	P-3-pan	они`

`потом	P-----r	потом`

`ничто	P--nsnn	ничто`

`каждый	P--msna	каждый`

`потому	P-----r	потому`

`тогда	P-----r	тогда`

`здесь	P-----r	здесь`

`какой-то	R	unknown`

`что-то	Ncnsnn	unknown`

`всегда	P-----r	всегда`

`ваш	P--msna	ваш`

`никто	P--msnn	никто`

`почему	P-----r	почему`

`поэтому	P-----r	поэтому`

`свое	P--nsaa	свой`

`никогда	P-----r	никогда`

`никакой	P--msna	никакой`

`некоторый	P--msna	некоторый`

`твой	P--msna	твой`

`куда	P-----r	куда`

`кто-то	Ncmsnn	unknown`

`как-то	Ncmsnn	unknown`

`зачем	P-----r	зачем`

`сей	P--msaa	сей`

`туда	P-----r	туда`

`какой-нибудь	Vmm-2s-a-p	unknown`

`всего	P--nsgn	все`

`откуда	P-----r	откуда`

`сюда	P-----r	сюда`

`столь	P-----r	столь`

`где-то	R	unknown`

`что-нибудь	Vmm-2s-a-p	unknown`

`почему-то	R	unknown`

`некий	P--msna	некий`

`когда-то	R	unknown`

`чего	P--nsgn	что`

`отсюда	P-----r	отсюда`

`чей	P--msna	чей`

`нечто	P--nsnn	нечто`

`кто-нибудь	Vmm-2s-a-p	unknown`

`оттуда	P-----r	оттуда`

`какой-либо	R	unknown`

`таков	P--msna	таков`

`куда-то	R	unknown`

`никуда	P-----r	никуда`

`каков	P--msna	каков`

`таковой	P--msnn	таковой`

`кой	P--msna	кой`

`оттого	P-----r	оттого`

`некогда	R	некогда`

`отчего	P-----r	отчего`

`нигде	P-----r	нигде`

`кое-что	C	unknown`

`когда-нибудь	R	unknown`

## 1.3
Причастия лемматизируются как глаголы и ошибочно как прилагательные (см. примеры ниже)

`“вижу приехавший поезд”`

`Vmps-smafpn	приехать`

Разбор правильный за исключением прогрессива (указан перфектив) и падежа (номинатив вместо аккузатива)
 
`“покрытому”`

`Vmps-smpfpd	покрыть`

 
Причастия  на “-емый/-имый” часто лемматизируются как прилагательные:

`“вращаемый” Afpmsnf unknown`

## 1.4. 
На данный вопрос нельзя дать однозначного ответа, так как для причастия находившего лемма не определяется:

`нашедший	Vmps-smafpn	найти`

`находившего	Vmps-sma-pg	unknown`

В случае дал и давал леммы разные (см. выдачу ниже):

`дал	Vmis-sma-p	дать`

`давал	Vmis-sma-e	давать`

## 1.5
смотрим последнее место: 
если а, то APRO пишем, если n, то SPRO
смотрим на третье место, если 3, то пишем 3p
смотрим на четвертое место и записываем его так же
смотрим на пятое место и переводим
n -> nom
g -> gen
d -> dat
a -> acc
v -> voc
l -> loc
i -> ins
смотрим на четвертое место и переводим s -> sg, p -> pl

# Часть 2
## 2.2.1
**Числа:**
Порядковые числительные, записанные как n-й, n-е и т.п. не анализируются как порядковые числительные, а как прилагательные (хотя в документации парсера есть категория cardinal numeral). 
Для числительных, записанных цифрами, падеж не определяется, а род с трудом определяется при эллипсисе. Десятичные числа, записанные цифрами, определяются как числительные (с соответствующей леммой), если дробная часть отделена запятой, но не точкой(!). 
Десятичные числа, записанные словами не объединяются в одно слово (как в цифровой записи). Парсер не указывает способ записи числа, т.е. например, арабская цифра, римская или буквами.
 
` “Ра­з­умов­ская М.М., Льво­ва С.И. и др. Рус­ский язык. 7 класс. Учеб­ник. – 13-е изд. – М.: Дрофа, 2009”.`

`7	Mc---d	7`

`13-е	Afpnsnf	unknown`

`2009	Mc---d	2009`

` “Я могу жонглировать 3  мячиками сразу”.`

`3	Mc---d	3`


` “Решите уравнение: 3,6 * x = 0,72”.`

`3,6	Mc---d	3,6`

`0,72	Mc---d	0,72`
 
` “У ежика было пять яблок, двумя он поделился с зайчиком, сколько яблок осталось?”`

`пять	Mc--n	пять`

`двумя	Mcm-i	двумя`



` “У ежика было два и три десятых килограмма яблок”.`

`два	Mcm-n		два`

`и	C		и`

`три	Mc--n		три`

`десятых	Mo-pg	десятый`



` “У ежика было две целых и три десятых килограмма яблок”.`

`две	Mcf-n	две`

`целых	Afpmpgf	целый`

`и	C	и`

`три	Mc--n	три`

`десятых	Mo-pg	десятый`
 
**Сокращения:**
1. Сокращения с точкой:

`“Ра­з­умов­ская М.М., Льво­ва С.И. и др. Рус­ский язык. 7 класс. Учеб­ник. – 13-е изд. – М.: Дрофа, 2009”.`

`М.М	-	unknown`

`.	SENT	.`

`С.И	-	unknown`

`.	SENT	.`

`др	P--npnn	др`

`.	SENT	.`

`изд	Ncnsnn		издание`

`.	SENT	.`

`М	-	марк`

`.	SENT	.`
 
В сокращениях отделяется только последняя точка (т.е. инициалы М.М будут вместе, а последняя точка отдельно). 
Лемма определяется либо как словоформа без последней точки, либо та, которая записана в словаре TreeTagger (ср. “изд.” и “М.” в примере выше) и не всегда является верной.

2. Сокращения через дефис и слеш не парсятся TreeTagger:

` “Грелочки для рук солевые, пр-во Германия”.`

`пр-во	R	unknown`

 
` “Уважаемый г-н Секолец”`

`г-н	Afpmsnf	unknown`
 
` “Все б/у авто прошли полную предпродажную подготовку”.`

`б/у	Afpmpnf	unknown`
 
3. Слоговые и т.п. По всей видимости, тоже есть во встроенном словаре.

` “Новостройки в Москве до 5 млн рублей”`

`млн	Ncmpgn	миллион`
 
В случае с апострофами, теггер удаляет апостроф и объединяет словоформу в одно слово: 

`“Бедный гасконский дворянин д'Артаньян отправляется в Париж”`

`дАртаньян	Npmsny	unknown`
 
` “Шинейд О'Коннор найдена живой и невредимой в окрестностях Чикаго”`

`ОКоннор	Ncmsnn	unknown`
 
4. Смешанные элементы:
 
Несмотря на то, что км распознаётся анализатором как “километр”, в примере ниже в сочетании с числительным (слитное написание) км не отделяется, а разбирается вместе с числительным. В результате предлагается разбор, но не определяется лемма.

` “километр”`

` км	Ncmpgn	километр`

` “Я пробежал 100км за один день”.`

`100км	Npmsny	unknown`
 
В примере выше цифры от букв также не отделяются, но присваивается другая часть речи. По какой логике парсер определяет грамматические признаки в данном случае неизвестно.

` “'Я вспахал 2га земли”.`

`2га	Mc--a	unknown`
 
В инстаграме часто встречаются хештеги со смешанными алфавитами, они их тоже не делит (даже если убрать #):

` “Выйти на улицу прогуляться и увидеть как выкидывают рождественскую ёлку #goodbyechristmastree #welcomespring #theроссия”`

` #theроссия	Mc---d	unknown`
 
5. Амперсанд:
Амперсанд, отделенный пробелами, выделяется в отдельный токен:

` “Чиж & Co: Русская рок-группа, созданная в начале 1990-х”.`

`Чиж	Ncmsnn	unknown`

` &	-	&`

`Co	-	co`
 
В ином случае, слова, объединенные амперсандом, анализируются как единая языковая единица:

` Чиж&Co	-	unknown`


## 2.2.2
Грамматические признаки для неологизмов TreeTagger определяет хорошо (за исключением вида глаголов), лемма остаётся неопределенной. Слова, написанные латиницей, не парсятся, для этого необходимо подключать другие языки.
 
`(1) Надо сказать, российские операторы вендинга быстро все это оценили, и светящиеся панели стали ходовым товаром. Если вернуться к теме дресс-кода, можно увидеть интересную траекторию.`
 
`(2) Узнать, кто вас зафрендил в Facebook или зафолловил в Twitter не составит труда, так как актуальная информация вашего контактного листа всегда под рукой в интерфейсе любой социальной сети.`
 
Выдача: 

`вендинга	Ncmsgn	unknown`

`дресс-кода	Ncmsgn	unknown`

`зафрендил	Vmis-sma-p	unknown`

`Facebook	-	unknown`

`зафолловил	Vmis-sma-p	unknown`

`Twitter		-	unknown`

## 2.2.3
Предлагается только один вариант разбора всегда, но TreeTagger можно настроить на выдачу всех возможных вариантов разбора.
 
*Больной ребенок заснул. Больной заснул.*

`Больной	Afpmsnf	больной`

`ребенок	Ncmsny	ребенок`

`заснул	Vmis-sma-p	заснуть`

`.	SENT	.`

`Больной	Ncmsny	больной`

`заснул	Vmis-sma-p	заснуть`

`.	SENT	.`


*Русская печь. Печь пироги.*

`Русская	Afpfsnf	русский`

`печь	Ncfsnn	печь`

`.	SENT	.`

`Печь	Vmn----a-e	печь`

`пироги	Ncmpan	пирог`

`.	SENT	.`

*Косил косой косой косой*

`Косил	Vmis-sma-e	косить`

`косой	Afpmsaf	косой`

`косой	Afpmsaf	косой`

`косой	Afpmsaf	косой`

 
*А что же делает супруга одна, в отсутствии супруга.*

`А	C	а`

`что	P--nsnn	что`

`же	Q	же`

`делает	Vmip3s-a-e	делать`

`супруга	Ncfsny	супруга`

`одна	P--fsna	один`

`,	,	,`

`в	Sp-l	в`

`отсутствии	Ncnsln	отсутствие`

`супруга	Ncmsgy	супруг`

`.	SENT	.`


*“три, три, три, будет дырка”*

`три	Mc--n	три`

`,	,	,`

`три	Mc--n	три`

`,	,	,`

`три	Mc--n	три`

`,	,	,`

`будет	Vmif3s-a-e	быть`

`дырка	Ncfsnn	дырка`

## 2.2.4
Примеры на частиречную омонимию приведены в п. 2.2.3 и как можно заметить разрешение омонимии для парсера вызывает большие трудности и TreeTagger часто предлагает неверные разборы, как в примере с “косой”

# Часть 3
## 3.1
**Уровень оставшейся неоднозначности** в случае TreeTagger равняется 1, так как алгоритм при парсинге текста выдаёт только один вариант разбора.
(у нас стоит MacOs и мы не нашли, где бы можно было это поменять)

## 3.2
На весь текст приходится 56 ошибок. Следовательно, **лексическая точность алгоритма** равняется **0.898** (1-102/1000 = 1-0.102 = 0.898)

## 3.3
**Точность**
